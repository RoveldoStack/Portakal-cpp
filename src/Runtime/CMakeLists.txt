# CMakeList.txt : CMake project for Portakal, include source and define
# project specific logic here.
#

# Add source to this project's executable.
add_library (Runtime "main.cpp" "Core/Core.h" "Window/WindowCreateDesc.h" "Window/Window.h" "Window/Window.cpp" "Containers/Array.h" "Containers/String.h" "Containers/String.cpp" "Memory/Memory.h" "Memory/Memory.cpp" "Containers/Guid.h" "Containers/Guid.cpp" "Win32/Win32Guid.h" "Win32/Win32Guid.cpp" "Compiler/CompilerDefinitions.h" "Win32/Win32Log.h" "Assert/Assert.h" "Win32/Win32Assert.h" "Math/Math.h" "Math/Math.cpp" "Math/Vector2F.h" "Math/Vector3.h" "Win32/Win32Window.h" "Win32/Win32Window.cpp" "Platform/PlatformMessage.h" "Platform/PlatformMessage.cpp" "Win32/Win32Message.h" "Win32/Win32Message.cpp" "Platform/PlatformMessageBoxFlags.h" "Win32/Win32MessageUtils.h" "Win32/Win32MessageUtils.cpp" "Input/Keys.h" "Window/WindowEvent.h" "Window/WindowEventType.h" "Window/Events/WindowClosedEvent.h" "Window/Events/WindowMovedEvent.h" "Window/Events/WindowResizedEvent.h" "Window/Events/MouseWheelEvent.h" "Window/Events/MouseMovedEvent.h" "Window/Events/MouseButtonEvent.h" "Window/Events/MouseButtonUpEvent.h" "Window/Events/MouseButtonDownEvent.h" "Window/Events/KeyboardKeyEvent.h" "Window/Events/KeyboardKeyDownEvent.h" "Window/Events/KeyboardKeyUpEvent.h" "Window/Events/KeyboardCharEvent.h" "Window/WindowEvents.h" "Application/Application.h" "Application/Application.cpp" "Application/ApplicationModule.h" "Message/MessageType.h" "Message/IMessage.h" "Message/IMessageListener.h" "Message/MessageAPI.h" "Message/MessageAPI.cpp" "Message/MessageModule.h" "Message/MessageModule.cpp" "Reflection/Class.h" "Reflection/Type.h" "Reflection/Function.h" "Reflection/Type.cpp" "Reflection/Attribute.h" "Reflection/Attribute.cpp" "Reflection/Field.h" "Reflection/Field.cpp" "Reflection/Assembly.h" "Reflection/Assembly.cpp" "Reflection/Reflection.h" "Window/WindowAPI.h" "Window/WindowAPI.cpp" "Window/WindowModule.h" "Window/WindowModule.cpp" "Message/ConsoleMessageListener.h" "Message/ConsoleMessageListener.cpp" "Event/Delegate.h" "Event/Event.h" "Memory/ByteBlock.h" "Memory/ByteBlock.cpp" "Object/TaggedObject.h" "Platform/PlatformType.h" "Platform/PlatformDialog.h" "Platform/PlatformDialog.cpp" "Win32/Win32Dialog.h" "Win32/Win32Dialog.cpp" "Platform/PlatformFile.h" "Platform/PlatformFile.cpp" "Win32/Win32File.h" "Win32/Win32File.cpp" "Platform/PlatformDirectory.h" "Platform/PlatformDirectory.cpp" "Win32/Win32Directory.h" "Win32/Win32Directory.cpp" "Platform/PlatformProcess.h" "Platform/PlatformProcess.cpp" "Win32/Win32Process.h" "Win32/Win32Process.cpp" "World/Component.h" "World/Component.cpp" "World/Entity.h" "World/Scene.h" "World/SceneDescriptor.h" "World/SceneAspect.h" "World/SceneAspect.cpp" "Yaml/YamlSerializerAttribute.h" "Yaml/IYamlSerializer.h" "Yaml/Yaml.h" "Reflection/AppDomain.h" "World/SceneAPI.h" "World/SceneAPI.cpp" "Graphics/WindowedGraphicsDeviceCreateDesc.h" "Graphics/GraphicsBackend.h" "Graphics/StandaloneGraphicsDeviceCreateDesc.h" "Graphics/Texture/TextureFormat.h" "Graphics/GraphicsDeviceAPI.h" "Graphics/GraphicsDeviceAPI.cpp" "Graphics/GraphicsModule.h" "Graphics/GraphicsModule.cpp" "Graphics/GraphicsModuleParams.h" "Graphics/GraphicsDevice.h" "Graphics/GraphicsDevice.cpp" "Graphics/Buffer/GraphicsBufferType.h"  "Graphics/Buffer/GraphicsBufferCreateDesc.h" "Graphics/Buffer/GraphicsBufferUpdateDesc.h" "Graphics/GraphicsDeviceObject.h" "Graphics/GraphicsDeviceObjectType.h" "Graphics/GraphicsDeviceObject.cpp" "Graphics/Buffer/GraphicsBuffer.h" "Graphics/GraphicsDeviceObjects.h" "Graphics/Shader/ShaderStage.h" "Graphics/Shader/ShaderCreateDesc.h" "Graphics/Shader/Shader.h"  "Graphics/Command/CommandList.h" "Graphics/Command/CommandList.cpp" "Graphics/Texture/TextureUpdateDesc.h" "Graphics/ScissorDesc.h" "Graphics/ViewportDesc.h" "Graphics/Command/CommandListCreateDesc.h" "Graphics/Texture/TextureCreateDesc.h" "Graphics/Texture/TextureType.h" "Graphics/Texture/TextureUsage.h" "Graphics/Texture/TextureLoadResult.h" "Graphics/Texture/TextureLoader.h" "Graphics/Texture/TextureLoader.cpp" "Graphics/Texture/TextureLoaderUtils.h" "Graphics/Texture/TextureLoaderUtils.cpp" "Graphics/Pipeline/Blending/BlendFactor.h" "Graphics/Pipeline/Blending/BlendFunction.h" "Graphics/Pipeline/Blending/BlendingAttachmentDesc.h" "Graphics/Pipeline/Blending/BlendingStateDesc.h" "Graphics/ComparisionMethod.h" "Graphics/Pipeline/Rasterizer/FaceCullMode.h" "Graphics/Pipeline/Rasterizer/FrontFaceDirection.h" "Graphics/Pipeline/Input/InputElementDataFormat.h" "Graphics/Pipeline/Input/InputElementSemantic.h" "Graphics/Pipeline/Rasterizer/MeshShadeMode.h" "Graphics/Pipeline/Rasterizer/MeshTopology.h" "Graphics/Pipeline/Input/InputElementDesc.h" "Graphics/Pipeline/Input/InputLayoutDesc.h" "Graphics/Pipeline/Output/OutputAttachmentDesc.h" "Graphics/Pipeline/Output/OutputDesc.h" "Graphics/Pipeline/DepthStencil/StencilOperation.h"  "Graphics/Pipeline/Rasterizer/RasterizerStateDesc.h" "Graphics/Pipeline/DepthStencil/DepthStencilStateDesc.h" "Graphics/Pipeline/PipelineBindPoint.h" "Graphics/Pipeline/GraphicsPipelineCreateDesc.h" "Graphics/Pipeline/Resource/PipelineResourceType.h" "Graphics/Pipeline/Resource/PipelineResourceTableDesc.h" "Graphics/Pipeline/Resource/PipelineResourceEntry.h"  "Graphics/Texture/Texture.h" "Graphics/Sampler/SamplerFiltering.h" "Graphics/Sampler/SamplerBorderColor.h" "Graphics/Sampler/SamplerAddress.h" "Graphics/Sampler/Sampler.h" "Graphics/Sampler/SamplerCreateDesc.h" "Graphics/Framebuffer/FramebufferAttachmentDesc.h" "Graphics/Framebuffer/FramebufferCreateDesc.h" "Graphics/Framebuffer/Framebuffer.h" "Graphics/Framebuffer/Framebuffer.cpp"  "Graphics/Pipeline/Pipeline.h" "Graphics/Pipeline/Resource/ResourceStateDesc.h"  "Graphics/Resource/ResourceTableCreateDesc.h" "Graphics/Resource/ResourceTable.h" "Graphics/Pipeline/DepthStencil/StencilFaceDesc.h" "Window/WindowChildDeviceAdapter.h" "Window/WindowChildDeviceAdapter.cpp" "DX12/Core.h" "DX12/DX12Device.h" "DX12/DX12Device.cpp"    "DXGI/DXGIUtils.h" "DXGI/DXGIUtils.cpp" "DX12/DX12DeviceObjects.h" "DX12/Buffer/DX12Buffer.h" "DX12/Buffer/DX12Buffer.cpp" "DX12/Buffer/DX12BufferUtils.h" "DX12/Buffer/DX12BufferUtils.cpp" "DX12/Shader/DX12Shader.h" "DX12/Shader/DX12Shader.cpp" "D3DCompiler/D3DCompilerUtils.h" "D3DCompiler/D3DCompilerUtils.cpp" "DX12/Texture/DX12Texture.h" "DX12/Texture/DX12TextureUtils.h" "DX12/Texture/DX12TextureUtils.cpp" "DX12/Texture/DX12Texture.cpp" "DX12/Resource/DX12ResourceUtils.h" "DX12/Resource/DX12ResourceUtils.cpp" "DX12/Resource/DX12ResourceTable.h" "DX12/Resource/DX12ResourceTable.cpp" "DX12/Sampler/DX12Sampler.h" "DX12/Sampler/DX12Sampler.cpp"  "DX12/Sampler/DX12SamplerUtils.h" "DX12/Sampler/DX12SamplerUtils.cpp" "DX12/Pipeline/DX12PipelineUtils.h" "DX12/Pipeline/DX12PipelineUtils.cpp" "DX12/Framebuffer/DX12Framebuffer.h" "DX12/Framebuffer/DX12Framebuffer.cpp" "DX12/Pipeline/DX12GraphicsPipeline.h" "DX12/Pipeline/DX12GraphicsPipeline.cpp" "Graphics/Pipeline/PipelineUtils.h" "Graphics/Pipeline/PipelineUtils.cpp" "DX12/Command/DX12GraphicsCommandList.h" "DX12/Command/DX12GraphicsCommandList.cpp" "Graphics/Pipeline/ComputePipelineCreateDesc.h" "Platform/PlatformTime.h" "Platform/PlatformTime.cpp" "Win32/Win32Time.h"  "Win32/Win32Time.cpp" "Time/Stopwatch.h" "Time/Stopwatch.cpp" "Memory/SharedSafeHeap.h" "Memory/OwnedHeap.h"       "Time/Time.h" "Time/Time.cpp" "Graphics/LogicOperation.h" "Graphics/Swapchain/Swapchain.h" "Graphics/Swapchain/SwapchainCreateDesc.h" "DX12/Swapchain/DX12Swapchain.h" "DX12/Swapchain/DX12Swapchain.cpp" "DX12/DX12Resource.h" "Graphics/Swapchain/Swapchain.cpp" "Graphics/Command/CommandQueueType.h" "Resource/Resource.h" "Resource/ResourceSubObject.h" "Resource/IResourceSerializer.h" "Resource/CustomResourceSerializerAttribute.h"  "Resource/ResourceAPI.h" "Application/ApplicationModule.cpp" "Platform/PlatformPaths.h" "Resource/Texture/TextureResource.h" "Resource/Texture/TextureResource.cpp" "Graphics/Texture/TextureUtils.h" "Graphics/Texture/TextureUtils.cpp" "Platform/PlatformPaths.cpp" "Win32/Win32Paths.h" "Win32/Win32Paths.cpp" "Window/Events/DragDropEvent.h" "Platform/PlatformMonitor.h" "Platform/PlatformMonitor.cpp" "Win32/Win32Monitor.h" "Win32/Win32Monitor.cpp" "Platform/PlatformExplorer.h" "Platform/PlatformExplorer.cpp" "Win32/Win32Explorer.h" "Win32/Win32Explorer.cpp"  "Win32/Win32API.h" "Win32/Win32Keys.h" "Win32/Win32Keys.cpp" "Reflection/AccessSpecifier.h" "Platform/PlatformError.h" "Platform/PlatformError.cpp" "Win32/Win32Error.h" "Win32/Win32Error.cpp" "World/Scene.cpp" "World/SceneModule.h" "World/SceneModule.cpp" "World/Entity.cpp" "Resource/RenderTarget/RenderTargetResource.h" "Resource/RenderTarget/RenderTargetResource.cpp" "World/Aspects/DisplayAspect.h" "World/Aspects/DisplayAspect.cpp" "Containers/Registry.h" "Resource/ResourceModule.h" "Resource/ResourceModule.cpp" "World/Aspects/InvalidAspect.h" "World/Aspects/InvalidAspect.cpp" "Resource/ResourceAPI.cpp" "Resource/Resource.cpp" "Resource/Texture/TextureSerializer.h" "Resource/Texture/TextureSerializer.cpp" "Math/Color4.h"    "Resource/Scene/SceneSerializer.h" "Resource/Scene/SceneSerializer.cpp" "Resource/ResourceDescriptor.h" "World/Components/InvalidComponent.h" "World/Components/InvalidComponent.cpp" "Reflection/PrimitiveTypes.h" "Architecture/Architecture.h" "RuntimeModules.h" "Resource/ResourceSerializers.h"   "Platform/Platform.h" "Platform/Platform.cpp" "Platform/PlatformMutex.h" "Win32/Win32Mutex.h" "Win32/Win32Mutex.cpp" "Platform/PlatformMutex.cpp" "Platform/PlatformThread.h" "Platform/PlatformThread.cpp" "Win32/Win32Thread.h" "Win32/Win32Thread.cpp" "Job/Job.h"  "Platform/PlatformCriticalSection.h" "Platform/PlatformCriticalSection.cpp" "Win32/Win32CriticalSection.h" "Win32/Win32CriticalSection.cpp" "Job/Job.cpp" "Resource/ResourceLoadJob.h" "Resource/ResourceLoadJob.cpp" "Graphics/Fence.h" "Graphics/Fence.cpp" "DX12/DX12Fence.h" "DX12/DX12Fence.cpp" "DX11/Core.h" "DX11/DX11Device.h" "DX11/DX11Device.cpp" "DX11/DX11DeviceObjects.h" "DX11/Swapchain/DX11Swapchain.h" "DX11/Swapchain/DX11Swapchain.cpp" "DX11/Texture/DX11Texture.h" "DX11/Texture/DX11Texture.cpp" "DX11/Command/DX11CommandList.h" "DX11/Command/DX11CommandList.cpp" "DX11/Resource/DX11ResourceTable.h" "DX11/Resource/DX11ResourceTable.cpp" "DX11/Framebuffer/DX11Framebuffer.h" "DX11/Framebuffer/DX11Framebuffer.cpp" "Job/JobSystem.h" "Platform/PlatformInfo.h" "Platform/PlatformInfo.cpp" "Win32/Win32Info.h" "Win32/Win32Info.cpp" "Job/JobSystem.cpp" "Job/WorkerThreadJob.h" "Job/WorkerThreadJob.cpp" "DX11/Shader/DX11Shader.h" "DX11/Shader/DX11Shader.cpp" "DX11/Texture/DX11TextureUtils.h" "DX11/Texture/DX11TextureUtils.cpp" "DX11/Buffer/DX11Buffer.h" "DX11/Buffer/DX11Buffer.cpp" "DX11/Buffer/DX11BufferUtils.h" "DX11/Buffer/DX11BufferUtils.cpp" "DX11/Sampler/DX11Sampler.h" "DX11/Sampler/DX11Sampler.cpp" "DX11/Sampler/DX11SamplerUtils.h" "DX11/Sampler/DX11SamplerUtils.cpp" "DX11/Pipeline/DX11PipelineUtils.h" "DX11/Pipeline/DX11PipelineUtils.cpp" "DX11/Pipeline/DX11GraphicsPipeline.h" "DX11/Pipeline/DX11GraphicsPipeline.cpp" "Math/Matrix4x4.h" "Resource/Shader/ShaderResource.h" "Resource/Shader/ShaderResource.cpp" "Resource/Shader/ShaderSerializer.h" "Resource/Shader/ShaderSerializer.cpp" "Resource/Shader/ShaderResourceDescriptor.h" "World/Components/TestComponent.h" "World/Components/TestComponent.cpp" "Platform/PlatformLibrary.h" "Platform/PlatformLibrary.cpp" "Win32/Win32Library.h" "Win32/Win32Library.cpp" "Reflection/AppDomain.cpp" "Reflection/ReflectionModule.h" "Reflection/ReflectionModule.cpp" "Reflection/ReflectionAPI.h"      "XInput/XInputManager.h" "XInput/XInputManager.cpp" "Input/GamepadButtons.h" "Window/Events/GamepadButtonEvent.h" "Window/Events/GamepadButtonDownEvent.h" "Window/Events/GamepadButtonUpEvent.h" "Window/Events/GamepadTriggerMoveEvent.h" "Input/GamepadTriggers.h" "Window/Events/GamepadThumbMoveEvent.h" "Input/GamepadThumbs.h" "Input/Gamepad.h" "Input/InputAPI.h" "Input/InputAPI.cpp" "Input/InputModule.h" "Input/InputModule.cpp" "XInput/XInputGamepad.h" "XInput/XInputGamepad.cpp" "Memory/SharedHeap.h" "Reflection/Enum.h" "World/Components/TestEnum.h"  "World/Components/TestStruct.h" "Platform/PlatformClipboard.h" "Platform/PlatformClipboard.cpp" "Win32/Win32Clipboard.h" "Win32/Win32Clipboard.cpp" "Input/KeyboardKeys.h" "Resource/Mesh/MeshResource.h" "Resource/Mesh/MeshResource.cpp" "Resource/Mesh/MeshIndexType.h" "Resource/Mesh/MeshUtils.h" "Resource/Mesh/MeshUtils.cpp" "Resource/Mesh/MeshLoader.h" "Resource/Mesh/MeshLoader.cpp" "Resource/Mesh/MeshLoadFlags.h" "Resource/Mesh/MeshPrimitiveType.h" "Core/UtilMacros.h" "Resource/Mesh/MeshLoadResult.h" "Resource/Material/MaterialResource.h" "Resource/Material/MaterialResource.cpp"  "Resource/Material/MaterialStageParameterDescriptor.h" "Graphics/Shader/ShaderReflectionBlob.h" "Graphics/Shader/ShaderReflectionResource.h" "Graphics/Shader/ShaderResourceType.h" "Graphics/Shader/ShadingLanguage.h" "DX11/Shader/DX11ShaderReflectionBlob.h" "DX11/Shader/DX11ShaderReflectionBlob.cpp" "HLSL/HLSLCompiler.h" "HLSL/HLSLCompiler.cpp" "Graphics/Shader/ShaderReflectionBlob.cpp" "Graphics/Shader/ShaderReflectionBufferParameter.h" "Graphics/Shader/ShaderReflectionBufferParameterType.h" "Graphics/Shader/ShaderReflectionBufferParameterUtils.h" "Graphics/Shader/ShaderReflectionBufferParameterUtils.cpp" "Yaml/YamlDefaultSerializer.h" "Yaml/YamlDefaultSerializer.cpp" "Reflection/TypeCodes.h" "Object/API.h" "Reflection/ReflectionAPI.cpp" "Object/GarbageCollector.h" "Object/GarbageCollector.cpp" "Object/TaggedObject.cpp" "Reflection/GeneratorInstructions.h" "Reflection/GeneratorInstructions.h"  "World/Scene/SceneResourceEntry.h" "World/Scene/SceneAspectEntry.h" "World/Scene/SceneEntityEntry.h" "World/Scene/SceneComponentEntry.h" "Graphics/Pipeline/Blending/BlendingColorWriteFlags.h" "Graphics/Resource/ISubmittableResource.h" "Resource/Material/MaterialParameterDescriptor.h" "Resource/Material/MaterialParameterType.h" "Platform/PlatformIcon.h" "Platform/PlatformIcon.cpp" "Win32/Win32Icon.h" "Win32/Win32Icon.cpp" "Rendering/RenderGraph.h" "Rendering/RenderGraph.cpp" "Rendering/RenderPass.h" "Rendering/RenderPass.cpp" "Rendering/Passes/RenderTargetClearColorPass.h" "Rendering/Passes/RenderTargetClearColorPass.cpp" "Rendering/RenderPassInputOutput.h" "Rendering/RenderPassInputOutput.cpp" "Rendering/InputOutputs/RenderTargetInputOutput.h" "Rendering/InputOutputs/RenderTargetInputOutput.cpp" "Rendering/InputOutputs.h" "Rendering/RenderPasses.h" "Rendering/InputOutputs/ColorRgbaFInputOutput.h" "Rendering/InputOutputs/ColorRgbaFInputOutput.cpp" "Rendering/RenderPassInputOutputType.h" "Rendering/InputOutputs/FinishInputOutput.h" "Rendering/InputOutputs/FinishInputOutput.cpp" "Resource/Sampler/SamplerResource.h" "Resource/Sampler/SamplerResource.cpp" "Rendering/RenderingPathCache.h" "Rendering/RenderingPathCache.cpp" "Rendering/InputOutputs/MeshInputOutput.h" "Rendering/InputOutputs/MeshInputOutput.cpp" "Rendering/InputOutputs/MaterialInputOutput.h" "Rendering/InputOutputs/MaterialInputOutput.cpp" "Graphics/Pipeline/Resource/PipelineResourceStageDesc.h" "Rendering/InputOutputs/TextureInputOutput.h" "Rendering/InputOutputs/TextureInputOutput.cpp" "Graphics/Resource/ResourceTable.cpp" "Renderers/2DRenderer/Renderer2DSceneAspect.h" "Renderers/2DRenderer/Renderer2DSceneAspect.cpp" "Renderers/2DRenderer/SpriteRendererComponent.h" "Renderers/2DRenderer/SpriteRendererComponent.cpp" "Renderers/2DRenderer/SpriteCameraComponent.h" "Renderers/2DRenderer/SpriteCameraComponent.cpp" "Rendering/InputOutputs/OtherInputOutput.h" "Rendering/InputOutputs/OtherInputOutput.cpp" "Renderers/2DRenderer/Renderer2DRenderPass.h" "Renderers/2DRenderer/Renderer2DRenderPass.cpp" "Renderers/2DRenderer/Renderer2DData.h" "Math/Vector2UI.h" "Math/Color4F.h" "Graphics/Shader/ShaderReflectionData.h" "Graphics/Shader/ShaderReflectionInputOutputData.h" "DX11/Shader/DX11ShaderReflectionUtils.h" "DX11/Shader/DX11ShaderReflectionUtils.cpp" "Resource/Material/MaterialSerializer.h" "Resource/Material/MaterialSerializer.cpp")

if (CMAKE_VERSION VERSION_GREATER 3.12)
  set_property(TARGET Runtime PROPERTY CXX_STANDARD 20)
endif()

# TODO: Add tests and install targets if needed.

#compiler flags
if(WIN32)
add_compile_definitions(PORTAKAL_OS_WINDOWS)
endif()

if(CMAKE_CXX_COMPILER_ID STREQUAL "MSVC")
  add_compile_definitions(PORTAKAL_COMPILER_MSVC)
elseif (CMAKE_CXX_COMPILER_ID STREQUAL "Clang")
  add_compile_definitions(PORTAKAL_COMPILER_CLANG)
elseif (CMAKE_CXX_COMPILER_ID STREQUAL "GNU")
  add_compile_definitions(PORTAKAL_COMPILER_GNU)
else()
  add_compile_definitions(PORTAKAL_COMPILER_INVALID)
endif()

if( CMAKE_SYSTEM_PROCESSOR STREQUAL "64Bit" )
    add_compile_definitions(PORTAKAL_ARCHITECTURE_X64)
else()
    add_compile_definitions(PORTAKAL_ARCHITECTURE_X86)
endif()

if (CMAKE_BUILD_TYPE STREQUAL "Debug")
add_compile_definitions(PORTAKAL_DEBUG)
endif()

add_compile_definitions(PORTAKAL_SAFE)

include_directories(${CMAKE_SOURCE_DIR}/src)

if(WIN32)
target_link_libraries(Runtime d3d12.lib)
target_link_libraries(Runtime d3d11.lib)
target_link_libraries(Runtime dxgi.lib)
target_link_libraries(Runtime d3dcompiler.lib)
target_link_libraries(Runtime Shlwapi.lib)
target_link_libraries(Runtime Comctl32.lib)
target_link_libraries(Runtime dinput8.lib)
target_link_libraries(Runtime XInput.lib)
target_link_libraries(Runtime dxguid.lib)
endif()

target_link_libraries(Runtime Stbi)
target_link_libraries(Runtime yaml-cpp)
target_link_libraries(Runtime assimp)



